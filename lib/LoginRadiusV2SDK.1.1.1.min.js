var LoginRadiusSDK=function(){function p(a){if(window[a]){a=window[a];try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(b){return!1}}else return!1}function m(a){return p("localStorage")&&null!==localStorage.getItem(a)&&void 0!==localStorage.getItem(a)&&""!==localStorage.getItem(a)?localStorage.getItem(a):p("sessionStorage")&&null!==sessionStorage.getItem(a)&&void 0!==sessionStorage.getItem(a)&&""!==sessionStorage.getItem(a)?sessionStorage.getItem(a):documentCookies.getItem(a)}function r(a,
b){var d=!0;p("localStorage")&&(localStorage.setItem(a,b),d=!1);p("sessionStorage")&&(sessionStorage.setItem(a,b),d=!1);d&&documentCookies.setItem(a,b,"",window.location)}(function(a,b){var d=function(){var b=function(){for(var b=a.location.hash?a.location.hash.substr(1).split("&"):[],d={},c=0;c<b.length;c++){var e=b[c].split("=");d[e[0]]=decodeURIComponent(e[1])}return d},d=function(b){var d=[],c;for(c in b)d.push(c+"="+encodeURIComponent(b[c]));a.location.hash=d.join("&")};return{get:function(a){var d=
b();return a?d[a]:d},add:function(a){var c=b(),e;for(e in a)c[e]=a[e];d(c)},remove:function(a){a="string"==typeof a?[a]:a;for(var c=b(),e=0;e<a.length;e++)delete c[a[e]];d(c)},clear:function(){d({})}}}();a.hash=d})(window);var f={},g={906:{Description:"The access token is not valid",ErrorCode:906,Message:"The LoginRadius access token is invalid, please use the correct or valid access token in order to process this request."},920:{Description:"The provided LoginRadius API key is invalid, please use a valid API key of your LoginRadius account.",
ErrorCode:920,Message:"API key is invalid"}},c={isauthenticated:!1,setLoginCallback:function(a){c.onlogin=a}};documentCookies={getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,b,d,c,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var e="",h={getInStringFormat:function(a){if(Infinity===a)return"Fri, 31 Dec 9999 23:59:59 GMT";
var b=new Date;b.setTime(b.getTime()+1E3*a);return b.toGMTString()}};if(d)switch(d.constructor){case Number:e=Infinity==="; expires="+h.getInStringFormat(d)+d?"":"; max-age="+d;break;case String:e="; expires="+d;break;case Date:e="; expires="+d.toUTCString()}document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+e+(f?"; domain="+f:"")+(c?"; path="+c:"")+(g?"; secure":"");return!0},removeItem:function(a,b,d){if(!this.hasItem(a))return!1;document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+
(d?"; domain="+d:"")+(b?"; path="+b:"");return!0},hasItem:function(a){return a?(new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=")).test(document.cookie):!1},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^=]+)(?=;|$)|^\s*|\s*(?:=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:=[^;]*)?;\s*/),b=a.length,d=0;d<b;d++)a[d]=decodeURIComponent(a[d]);return a}};c.getPhotos=function(a,b){var d=c.getToken();d?f.jsonpCall("/api/v2/photo?albumid="+a+"&access_token="+d,
function(a){b(a)}):b(g[906])};c.getCheckins=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/checkin?access_token="+b,function(b){a(b)}):a(g[906])};c.getAlbums=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/album?access_token="+b,function(b){a(b)}):a(g[906])};c.getAudios=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/audio?access_token="+b,function(b){a(b)}):a(g[906])};c.getMentions=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/mention?access_token="+b,function(b){a(b)}):
a(g[906])};c.getFollowings=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/following?access_token="+b,function(b){a(b)}):a(g[906])};c.getEvents=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/event?access_token="+b,function(b){a(b)}):a(g[906])};c.getPosts=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/post?access_token="+b,function(b){a(b)}):a(g[906])};c.getCompanies=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/company?access_token="+b,function(b){a(b)}):a(g[906])};c.getGroups=
function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/group?access_token="+b,function(b){a(b)}):a(g[906])};c.getStatuses=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/status?access_token="+b,function(b){a(b)}):a(g[906])};c.getContacts=function(a,b){var d=c.getToken();d?f.jsonpCall("/api/v2/contact?nextcursor="+a+"&access_token="+d,function(a){b(a)}):b(g[906])};c.getVideos=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/video?access_token="+b,function(b){a(b)}):a(g[906])};c.getLikes=
function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/like?access_token="+b,function(b){a(b)}):a(g[906])};c.postStatus=function(a,b,d,e,h,k,l){var n=c.getToken();n?f.jsonpCall("/api/v2/status/js?title="+a+"&url="+b+"&imageurl="+e+"&status="+d+"&caption="+h+"&description="+k+"&access_token="+n,function(a){l(a)}):l(g[906])};c.getUserProfile=function(a){var b=c.getToken();b?f.jsonpCall("/api/v2/userprofile?access_token="+b,function(b){a(b)}):a(g[906])};c.postMessagePOST=function(a,b,d,e){var h=c.getToken();
h?f.xhttpCall("POST",{},"/api/v2/message?to="+a+"&subject="+b+"&message="+d+"&access_token="+h,function(a){e(a)}):e(g[906])};c.postStatusPOST=function(a,b,d,e,h,k,l){var n=c.getToken();n?f.xhttpCall("POST",{},"/api/v2/status?title="+a+"&url="+b+"&imageurl="+e+"&status="+d+"&caption="+h+"&description="+k+"&access_token="+n,function(a){l(a)}):l(g[906])};c.postMessage=function(a,b,d,e){var h=c.getToken();h?f.jsonpCall("/api/v2/message/js?to="+a+"&subject="+b+"&message="+d+"&access_token="+h,function(a){e(a)}):
e(g[906])};c.getPage=function(a,b){var d=c.getToken();d?f.jsonpCall("/api/v2/page?pagename="+a+"&access_token="+d,function(a){b(a)}):b(g[906])};c.checkEmailAvailability=function(a,b){f.jsonpCall("/identity/v2/auth/email?email="+a+"&apikey="+c.getApiKey(),function(a){b(a)})};c.checkUserNameAvailability=function(a,b){f.jsonpCall("/identity/v2/auth/username?username="+a+"&apikey="+c.getApiKey(),function(a){b(a)})};c.loginByEmail=function(a,b,d,e,h,g,l){f.jsonpCall("/identity/v2/auth/login?email="+a+
"&password="+b+"&verificationurl="+d+"&loginurl="+e+"&emailtemplate="+h+"&g-recaptcha-response="+g+"&apikey="+c.getApiKey(),function(a){l(a)})};c.loginByUserName=function(a,b,d,e,h,g,l){f.jsonpCall("/identity/v2/auth/login?username="+a+"&password="+b+"&verificationurl="+d+"&loginurl="+e+"&emailtemplate="+h+"&g-recaptcha-response="+g+"&apikey="+c.getApiKey(),function(a){l(a)})};c.readAllProfilesByToken=function(a){var b=c.getToken();b?f.jsonpCall("/identity/v2/auth/account?access_token="+b+"&apikey="+
c.getApiKey(),function(b){a(b)}):a(g[906])};c.socialIdentity=function(a){var b=c.getToken();b?f.jsonpCall("/identity/v2/auth/socialidentity?access_token="+b+"&apikey="+c.getApiKey(),function(b){a(b)}):a(g[906])};c.validateAccessToken=function(a){var b=c.getToken();b?f.jsonpCall("/identity/v2/auth/access_token/validate?access_token="+b+"&apikey="+c.getApiKey(),function(b){a(b)}):a(g[906])};c.verifyEmail=function(a,b,d,e){f.jsonpCall("/identity/v2/auth/email?verificationtoken="+a+"&url="+encodeURIComponent(b)+
"&welcomeemailtemplate="+d+"&apikey="+c.getApiKey(),function(a){e(a)})};c.deleteAccount=function(a,b){f.jsonpCall("/identity/v2/auth/account/delete?deletetoken="+a+"&apikey="+c.getApiKey(),function(a){b(a)})};c.accessTokenInvalidate=function(a){var b=c.getToken();b?f.jsonpCall("/identity/v2/auth/access_token/invalidate?access_token="+b+"&apikey="+c.getApiKey(),function(b){a(b)}):a(g[906])};c.getSecurityQuestionsByAccessToken=function(a){var b=c.getToken();b?f.jsonpCall("/identity/v2/auth/securityquestion/accesstoken?access_token="+
b+"&apikey="+c.getApiKey(),function(b){a(b)}):a(g[906])};c.getSecurityQuestionsByEmail=function(a,b){f.jsonpCall("/identity/v2/auth/securityquestion/email?email="+a+"&apikey="+c.getApiKey(),function(a){b(a)})};c.getSecurityQuestionsByUserName=function(a,b){f.jsonpCall("/identity/v2/auth/securityquestion/username?username="+a+"&apikey="+c.getApiKey(),function(a){b(a)})};c.getSecurityQuestionsByPhone=function(a,b){f.jsonpCall("/identity/v2/auth/securityquestion/phone?phone="+encodeURIComponent(a)+"&apikey="+
c.getApiKey(),function(a){b(a)})};c.getCustomObjectByToken=function(a,b){var d=c.getToken();d?f.jsonpCall("/identity/v2/auth/customobject?access_token="+d+"&objectname="+a+"&apikey="+c.getApiKey(),function(a){b(a)}):b(g[906])};c.getCustomObjectByRecordIdAndToken=function(a,b,d){var e=c.getToken();e?f.jsonpCall("/identity/v2/auth/customobject/"+b+"?access_token="+e+"&objectname="+a+"&apikey="+c.getApiKey(),function(a){d(a)}):d(g[906])};c.GoogleJWT=function(a,b){f.jsonpCall("/api/v2/access_token/googlejwt?key="+
c.getApiKey()+"&id_token="+a,function(a){r("LRTokenKey",a.access_token);b(a)})};c.getToken=function(){return sessionStorage.getItem("LRTokenKey")};c.getApiKey=function(){if(m("lrApiKey"))return apikey=m("lrApiKey"),m("lrApiKey");console.log("API Key not found, The API Key needs to be initialized for this API Call")};c.getApiKeyNoMessage=function(){if(m("lrApiKey"))return apikey=m("lrApiKey"),m("lrApiKey")};c.addEmail=function(a,b,d,e){var h=c.getToken();h?f.xhttpCall("POST",a,"/identity/v2/auth/email?access_token="+
h+"&verificationurl="+encodeURIComponent(b)+"&emailtemplate="+d,function(a){e(a)}):e(g[906])};c.sendForgotPassword=function(a,b,c,e){f.xhttpCall("POST",a,"/identity/v2/auth/password?resetpasswordurl="+encodeURIComponent(b)+"&emailtemplate="+c,function(a){e(a)})};c.userRegistrationByEmail=function(a,b,c,e,g){f.xhttpCall("POST",a,"/identity/v2/auth/register?sott="+b+"&verificationurl="+encodeURIComponent(c)+"&emailtemplate="+e,function(a){g(a)})};c.loginByEmailPOST=function(a,b,c,e,g,k){f.xhttpCall("POST",
a,"/identity/v2/auth/login?verificationurl="+encodeURIComponent(b)+"&loginurl="+c+"&emailtemplate="+e+"&g-recaptcha-response="+g,function(a){k(a)})};c.loginByUserNamePOST=function(a,b,c,e,g,k){f.xhttpCall("POST",a,"/identity/v2/auth/login?verificationurl="+encodeURIComponent(b)+"&loginurl="+c+"&emailtemplate="+e+"&g-recaptcha-response="+g,function(a){k(a)})};c.createCustomObjectByToken=function(a,b,d,e){(d=c.getToken())?f.xhttpCall("POST",a,"/identity/v2/auth/customobject?access_token="+d+"&objectname="+
b,function(a){e(a)}):e(g[906])};c.changePassword=function(a,b){var d=c.getToken();d?f.xhttpCall("PUT",a,"/identity/v2/auth/password?access_token="+d,function(a){b(a)}):b(g[906])};c.linkSocialIdentities=function(a,b){var d=c.getToken();d?f.xhttpCall("PUT",a,"/identity/v2/auth/socialidentity?access_token="+d,function(a){b(a)}):b(g[906])};c.resendEmailVerification=function(a,b,c,e){f.xhttpCall("PUT",a,"/identity/v2/auth/register?verificationurl="+b+"&emailtemplate="+c,function(a){e(a)})};c.resetPasswordByResetToken=
function(a,b){f.xhttpCall("PUT",a,"/identity/v2/auth/password",function(a){b(a)})};c.resetPasswordBySecurityQuestion=function(a,b){f.xhttpCall("PUT",a,"/identity/v2/auth/password/securityanswer",function(a){b(a)})};c.setUserName=function(a,b){var d=c.getToken();d?f.xhttpCall("PUT",a,"/identity/v2/auth/username?access_token="+d,function(a){b(a)}):b(g[906])};c.updateProfileByToken=function(a,b,d,e,h){var k=c.getToken();k?f.xhttpCall("PUT",a,"/identity/v2/auth/account?access_token="+k+"&verificationurl="+
b+"&emailtemplate="+d+"&smstemplate="+e,function(a){h(a)}):h(g[906])};c.updateSecurityQuestionByToken=function(a,b){var d=c.getToken();d?f.xhttpCall("PUT",a,"/identity/v2/auth/account?access_token="+d,function(a){b(a)}):b(g[906])};c.updateCustomObjectByObjectRecordIdAndToken=function(a,b,d,e,h){var k=c.getToken();k?f.xhttpCall("PUT",a,"/identity/v2/auth/customobject/"+e+"?access_token="+k+"&objectname="+b+"&updatetype="+d,function(a){h(a)}):h(g[906])};c.deleteAccountWithEmailConfirmation=function(a,
b,d){var e=c.getToken();e?f.xhttpCall("DELETE",{},"/identity/v2/auth/account?access_token="+e+"&deleteurl="+a+"&emailtemplate="+b,function(a){d(a)}):d(g[906])};c.removeEmail=function(a,b){var d=c.getToken();d?f.xhttpCall("DELETE",a,"/identity/v2/auth/email?access_token="+d,function(a){b(a)}):b(g[906])};c.unlinkSocialIdentity=function(a,b){var d=c.getToken();d?f.xhttpCall("DELETE",a,"/identity/v2/auth/socialidentity?access_token="+d,function(a){b(a)}):b(g[906])};c.deleteCustomObjectByRecordIdAndToken=
function(a,b,d){var e=c.getToken();e?f.xhttpCall("DELETE",{},"/identity/v2/auth/customobject/"+b+"?access_token="+e+"&objectname="+a,function(a){d(a)}):d(g[906])};c.postMessageAPI=c.postMessagePOST;c.statusPostingPOST=c.postStatusPOST;c.getLoginByEmail=c.loginByEmail;c.LoginByEmail=c.loginByEmailPOST;c.getLoginByUserName=c.loginByUserName;c.LoginByUserName=c.loginByUserNamePOST;f.jsonpCall=function(a,b){if(c.getApiKeyNoMessage()){var d="Loginradius"+Math.floor(1E18*Math.random()+1);window[d]=function(a){b(a);
try{delete window[d]}catch(k){window[d]=void 0}document.body.removeChild(e)};var e=document.createElement("script");e.src="https://api.loginradius.com"+a+(-1!=a.indexOf("?")?"&":"?")+"callback="+d;e.type="text/javascript";document.body.appendChild(e)}else b(g[920])};f.xhttpCall=function(a,b,d,e){var f=c.getApiKey();if(f){var k=new XMLHttpRequest;k.onreadystatechange=function(){4==this.readyState&&200==this.status?e(k.responseText):4==this.readyState&&console.log("Error making API call")};k.open(a,
"https://api.loginradius.com"+d+(-1!=d.indexOf("?")?"&":"?")+"apikey="+f);k.setRequestHeader("Content-type","application/json");k.setRequestHeader("X-Requested-With","XMLHttpRequest");k.onerror=function(){console.log("Error with XMLHttpRequest")};k.send(JSON.stringify(b))}else e(g[920])};f.addEvent=function(a,b,c){var d=[];b instanceof Array?d=b:d.push(b);for(b=0;b<d.length;b++)d[b].attachEvent?d[b].attachEvent("on"+a,function(a){c(a)}):d[b].addEventListener&&d[b].addEventListener(a,c,!1)};f.addEvent("message",
window,function(a){-1!=a.origin.indexOf("hub.loginradius.com")&&loginradiushtml5passToken(a.data)});window.loginradiushtml5passToken=function(a){sessionStorage.setItem("LRTokenKey",a);c.isauthenticated=!0;var b=setInterval(function(){c.onlogin&&(c.onlogin(),clearInterval(b))},100)};var q=hash.get("lr-token");q&&(window.opener&&window.opener.loginradiushtml5passToken?(window.opener.loginradiushtml5passToken(q),document.write('<style type="text/css">body { display: none !important; } </style>'),window.close()):
window.loginradiushtml5passToken(q));c.initSDK=function(a){r("lrApiKey",a.key)};return c}();
