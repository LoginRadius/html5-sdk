var LoginRadiusSDK=function(){(function(a,b){"use strict";var c=function(){var b=function(){var b=a.location.hash?a.location.hash.substr(1).split("&"):[],c={};for(var d=0;d<b.length;d++){var e=b[d].split("=");c[e[0]]=decodeURIComponent(e[1])}return c};var c=function(b){var c=[];for(var d in b){c.push(d+"="+encodeURIComponent(b[d]))}a.location.hash=c.join("&")};return{get:function(a){var c=b();if(a){return c[a]}else{return c}},add:function(a){var d=b();for(var e in a){d[e]=a[e]}c(d)},remove:function(a){a=typeof a=="string"?[a]:a;var d=b();for(var e=0;e<a.length;e++){delete d[a[e]]}c(d)},clear:function(){c({})}}}();a.hash=c})(window);var lrToken=hash.get("lr-token");if(lrToken){window.opener.loginradiushtml5passToken(lrToken);document.write('<style type="text/css">body { display: none !important; } </style>');window.close()}var apiDomain="api.loginradius.com";var token="LRTokenKey";var util={};var module={};var onlogin=function(){};module.isauthenticated=false;module.setLoginCallback=function(fn){module.onlogin=fn};module.getUserprofile=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/userprofile?access_token="+module.getToken(),function(data){handle(data)})};module.getPhotos=function(albumId,handle){util.jsonpCall("https://"+apiDomain+"/api/v2/photo?access_token="+module.getToken()+"&albumid="+albumId,function(data){handle(data)})};module.getCheckins=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/checkin?access_token="+module.getToken(),function(data){handle(data)})};module.getAlbums=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/album?access_token="+module.getToken(),function(data){handle(data)})};module.getAudios=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/audio?access_token="+module.getToken(),function(data){handle(data)})};module.getMentions=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/mention?access_token="+module.getToken(),function(data){handle(data)})};module.getFollowings=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/following?access_token="+module.getToken(),function(data){handle(data)})};module.getEvents=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/event?access_token="+module.getToken(),function(data){handle(data)})};module.getPosts=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/post?access_token="+module.getToken(),function(data){handle(data)})};module.getCompanies=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/company?access_token="+module.getToken(),function(data){handle(data)})};module.getGroups=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/group?access_token="+module.getToken(),function(data){handle(data)})};module.getStatuses=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/status?access_token="+module.getToken(),function(data){handle(data)})};module.getContacts=function(cursor,handle){util.jsonpCall("https://"+apiDomain+"/api/v2/contact?access_token="+module.getToken()+"&nextcursor="+cursor,function(data){handle(data)})};module.getVideos=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/video?access_token="+module.getToken(),function(data){handle(data)})};module.getLikes=function(handle){util.jsonpCall("https://"+apiDomain+"/api/v2/like?access_token="+module.getToken(),function(data){handle(data)})};module.postStatus=function(title,url,status,imageurl,caption,description,handle){util.jsonpCall("https://"+apiDomain+"/api/v2/status/js?access_token="+module.getToken()+"&title="+title+"&url="+url+"&imageurl="+imageurl+"&status="+status+"&caption="+caption+"&description="+description,function(data){handle(data)})};module.postMessage=function(to,subject,message,handle){util.jsonpCall("https://"+apiDomain+"/api/v2/message/js?access_token="+module.getToken()+"&to="+to+"&subject="+subject+"&message="+message,function(data){handle(data)})};module.getToken=function(){return sessionStorage.getItem(token)};util.jsonpCall=function(url,handle){var func="Loginradius"+Math.floor(Math.random()*1e18+1);window[func]=function(data){handle(data);try{delete window[func]}catch(e){window[func]=undefined}document.body.removeChild(js)};var js=document.createElement("script");js.src=url.indexOf("?")!=-1?url+"&callback="+func:url+"?callback="+func;js.type="text/javascript";document.body.appendChild(js)};util.addEvent=function(type,element,handle){var elements=[];if(element instanceof Array){elements=element}else{elements.push(element)}for(var i=0;i<elements.length;i++){if(elements[i].attachEvent){elements[i].attachEvent("on"+type,function(e){handle(e)})}else if(elements[i].addEventListener){elements[i].addEventListener(type,handle,false)}}};function receiveToken(event){if(event.origin.indexOf("hub.loginradius.com")==-1){return}loginradiushtml5passToken(event.data)}util.addEvent("message",window,receiveToken);window.loginradiushtml5passToken=function(tok){sessionStorage.setItem(token,tok);module.isauthenticated=true;module.onlogin()};return module}();